FROM node:22

WORKDIR /app

# Copy backend package.json and lock file
COPY package*.json ./

# Install dependencies
RUN npm install --legacy-peer-deps

# Copy backend source
COPY . .

# Build backend (if you have a build step, e.g. TypeScript)
RUN npm run build

# Start backend in dev mode (hot reload)
CMD ["npm", "run", "dev"]
